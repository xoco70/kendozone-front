<form (ngSubmit)="onSubmit()">

  <div class="modal-header bg-primary text-white text-uppercase">
    <h4 class="modal-title">{{ 'core.create_a_new_category' | translate | uppercase }}</h4>
    <button type="button" class="close text-white" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">

    <div class=" form-group">
      <p class="full-width font-weight-bold text-center text-uppercase">
        {{ category.name }}</p>
    </div>
    <hr/>
    <div class="row">
      <div class="col-md-4">
        <label class="font-weight-bold" for="gender"> {{ 'categories.gender' | translate }}</label>
        <select class="form-control" id="gender" [(ngModel)]="category.gender" name="gender"
                (change)="setCategoryTitle()">
          <option *ngFor="let gender of genders" [ngValue]="gender.id">
            {{ gender.text | translate }}
          </option>
        </select>
      </div>
      <div class="col-md-4 col-md-offset-2">
        <div class=" form-group">
          <label class="font-weight-bold">{{ 'categories.isTeam' | translate }}</label>
          <br/>

          <div>
            <input name="isTeam" type="radio" [value]="1" id="yes" class="mt-3 mr-2"
                   [(ngModel)]="category.isTeam"
                   (change)="setCategoryTitle()">

            <label for="yes"> {{ 'core.yes' | translate }}</label>
            &nbsp;&nbsp;&nbsp;<input name="isTeam" type="radio" [value]="0" id="no" class="mt-3 mr-2"
                                     [(ngModel)]="category.isTeam"
                                     (change)="setCategoryTitle()"
          >
            <label for="no"> {{ 'core.no' | translate }}</label>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-4">
        <div class=" form-group">
          <label class="font-weight-bold" for="ageCategory">{{ 'categories.age_category' | translate }} </label>
          <select class="form-control" name="ageCategory" id="ageCategory" [(ngModel)]="category.ageCategory"
                  (change)="setCategoryTitle()">
            <option *ngFor=" let ageCat of ageCategories" [ngValue]="ageCat.id">
              {{ageCat.text | translate }}
            </option>
          </select>
        </div>
      </div>
      <div class="col-md-4" *ngIf="category.ageCategory==5">
        <div class=" form-group">
          <label class="font-weight-bold" for="ageMin">{{ 'categories.age_min' | translate }} </label>
          <select name="ageMin" id="ageMin" class="form-control" [(ngModel)]="category.ageMin"
                  (change)="setCategoryTitle()">
            <option [ngValue]="0"> {{ 'categories.no_age_restriction' | translate }}</option>
            <option *ngFor="let age of ages" [ngValue]="age+5">{{ age+5 }}</option>
          </select>
        </div>
      </div>
      <div class="col-md-4" *ngIf="category.ageCategory==5">
        <div class=" form-group">
          <label class="font-weight-bold" for="ageMax"> {{ 'categories.age_max' | translate }}</label>
          <select name="ageMax" id="ageMax" class="form-control"
                  [(ngModel)]="category.ageMax"
                  (change)="setCategoryTitle()">
            <option [ngValue]="0"> {{ 'categories.no_age_restriction' | translate }}</option>
            <option *ngFor="let age of ages" [ngValue]="age+5">{{ age+5 }}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4">
        <div class=" form-group">
          <label class="font-weight-bold" for="gradeCategory"> {{ 'core.grade' | translate }}</label>
          <select name="gradeCategory" id="gradeCategory" class="form-control"
                  [(ngModel)]="category.gradeCategory"
                  (change)="setCategoryTitle()">
            <option [ngValue]="0"> {{ 'categories.no_grade_restriction' | translate }}</option>
            <option [ngValue]="3"> {{ 'categories.custom' | translate }}</option>
          </select>
        </div>
      </div>

      <div class="col-md-4" *ngIf="category.gradeCategory==3">
        <div class=" form-group">
          <label class="font-weight-bold" for="gradeMin"> {{ 'categories.grade_min' | translate }}</label>
          <select name="gradeMin" id="gradeMin" class="form-control"
                  [(ngModel)]="category.gradeMin"
                  (change)="setCategoryTitle()">
            <option *ngFor="let grade of grades" [ngValue]="grade.id">
              {{ grade.text | translate }}
            </option>
          </select>
        </div>
      </div>
      <div class="col-md-4" *ngIf="category.gradeCategory==3">
        <div class=" form-group">
          <label class="font-weight-bold" for="gradeMax"> {{ 'categories.grade_max' | translate }}</label>
          <select name="gradeMax" id="gradeMax" class="form-control"
                  [(ngModel)]="category.gradeMax"
                  (change)="setCategoryTitle()">
            <option *ngFor="let grade of grades" [ngValue]="grade.id">
              {{ grade.text | translate }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit" class="btn btn-primary">
      {{ 'categories.add_category' | translate }}
    </button>
  </div>
</form>
